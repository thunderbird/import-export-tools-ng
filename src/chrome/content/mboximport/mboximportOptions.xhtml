<?xml version="1.0"?>
<!DOCTYPE dialog [
<!ENTITY % mainDTD SYSTEM "chrome://mboximport/locale/mboximport.dtd">
%mainDTD;
<!ENTITY % backupDTD SYSTEM "chrome://mboximport/locale/autobackup.dtd">
	%backupDTD;

]>

<?xml-stylesheet type="text/css" href="chrome://messenger/skin/icons.css"?>
<?xml-stylesheet type="text/css" href="chrome://messenger/skin/colors.css"?>
<?xml-stylesheet type="text/css" href="chrome://messenger/skin/messenger.css"?>
<?xml-stylesheet type="text/css" href="chrome://messenger/skin/themeableDialog.css"?>
<?xml-stylesheet href="chrome://mboximport/content/mboximport/mboximport.css" type="text/css"?>
<dialog
	xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" id="optionsdialog"
	xmlns:html="http://www.w3.org/1999/xhtml"
		type="child"
		title="ImportExportTools NG ">
	<tabbox>
		<tabs>
			<tab label=" &misc; " selected="true" />
			<tab label=" &filenameFormat; " />
			<tab label=" &savedirs; " />
			<tab label=" &backupTab; " />
		</tabs>
		<tabpanels>
			<tabpanel style="margin-left: 10px; margin-top: 0px;" orient="vertical">
				<label class="top-header" >&MBcaptionlabel1;</label>
				<html:div style="min-width: 550px">
					<html:div style="padding-left: 10px; float: left">
						<html:div style="width: 10px; height: 10px; background-color2: yellow" ></html:div>
						<hbox align="center">
							<checkbox id="MBoverwrite" label="&MBlabel1;" />
						</hbox>
						<hbox align="center">
							<checkbox id="MBconfrimimport" label="&MBlabel3;" />
						</hbox>
						<hbox align="center">
							<checkbox id="MBhtmlasdisplayed" label="&MBlabel4;" />
						</hbox>
						<hbox align="center">
							<checkbox id="MBcliptextplain" label="&MBlabel5;" />
						</hbox>
						<hbox align="center">
							<checkbox id="setTimestamp" label="&addTimestamp;" />
						</hbox>
						<hbox align="center" style="display: none">
							<checkbox id="buildMSF" label="&buildMSF.label;" />
						</hbox>
						<hbox align="center">
							<checkbox id="addNumber" label="&addNumber.label;" />
						</hbox>
						<hbox align="center" style="padding-left: 4px">
							<label value="&csvSep;" />
							<html:input id="csvSep" size="1" maxlength="1" />
						</hbox>
						<hbox align="center" style="padding-left: 4px">
							<label value="&textCharset;" />
							<menulist id="charset-list" style="width: 120px">
								<menupopup id="charset-list-popup" />
							</menulist>
						</hbox>
						<html:div style="height: 10px"></html:div>
						<html:table>
							<html:tr>
								<html:td align="left" style="margin-bottom: 4px;">
									<label value="&MBlabel7a;" />
								</html:td>
								<html:td align="left" style="margin-bottom: 4px;">
									<html:input id="MBsubmaxlen" maxlength="3" size="3" />
									<label value="&MBlabel7b;" />
								</html:td>
							</html:tr>
							<html:tr>
								<html:td align="left"  style="margin-bottom: 4px;">
									<label value="&MBlabel7c;" />
								</html:td>
								<html:td align="left" style="margin-bottom: 4px;">
									<html:input id="MBauthmaxlen" maxlength="3" size="3" />
									<label value="&MBlabel7b;" />
								</html:td>
							</html:tr>
							<html:tr>
								<html:td align="left" style="margin-bottom: 4px;">
									<label value="&MBlabel7d;" />
								</html:td>
								<html:td align="left" style="margin-bottom: 4px;">
									<html:input id="MBrecmaxlen" maxlength="3" size="3" />
									<label value="&MBlabel7b;" />
								</html:td>
							</html:tr>
						</html:table>
						<html:div style="height: 6px"></html:div>
						<hbox style="height: ;" >
							<label id="indexDateLabel" style="padding-top: 3px; padding-left: 3px;" >&indexCSVdateFormat;</label>
							<hbox align="center"  style="padding-left: 0px; height: ;">
								<html:input id="indexDateFormat" class="adjusted-image-height2"  style=" background-color: ;" />
							</hbox>
							<hbox class="adjusted-image-height2" align="center"  style=" background-color: ;">
								<image src="chrome://mboximport/content/mboximport/icons/question-mark-20px.png" width="16px" height="16px"  style="padding-left: 3px; padding-top: 0px;  margin-bottom: 0px; background-color: ;"
            					  maxwidth="16px"  onclick="openHelpBM('#customdate_format_help')" tooltiptext="&dateFormatRefTooltipText;" />
							</hbox>
						</hbox>
					</html:div>
					<html:div style="float: left; ">
						<hbox flex="1" pack="end" style="height: 48px; padding-left: 25px">
							<image src="chrome://mboximport/content/mboximport/icons/import-export-tools-ng-icon-64px.png" width="48px" height="48px"
					  maxwidth="48px" maxheight="54px" style="padding-top: 6px;"/>
						</hbox>
					</html:div>
				</html:div>
			</tabpanel>
			<tabpanel style="margin-left: 10px;">
				<vbox>
					<label class="top-header" style="padding-left: 0px;">&captionCustomize;</label>
					<vbox style="padding-left: 10px;">
						<html:div style="height: 0px"></html:div>
						<html:div style="height: 6px"></html:div>
						<hbox align="center">
							<checkbox id="customizeFilenames" label="&customizeFilename;" 
									oncommand="setTimeout(customNamesCheck,200,this);" />
						</hbox>
						<html:div style="height: 10px"></html:div>
						<hbox align="center">
							<menulist id="part1" style="width: 30%">
								<menupopup id="part1-popup-list" style="min-width: 24px">
									<menuitem id="m0" label="&subject;" value="%s" />
									<menuitem label="&date;" value="%d" />
									<menuitem label="&dateCustomOpt;" value="%D" />
									<menuitem label="&key;" value="%k" />
									<menuitem label="&name; (&sender;/&recipient;)" value="%n" />
									<menuitem label="&name; (&sender;)" value="%a" />
									<menuitem label="&name; (&recipient;)" value="%r" />
								</menupopup>
							</menulist>
							<label value="-" />
							<menulist id="part2" style="width: 30%">
								<menupopup id="part2-popup-list">
									<menuitem label="&subject;" value="%s" />
									<menuitem label="&date;" value="%d" selected="true" />
									<menuitem label="&dateCustomOpt;" value="%D" />
									<menuitem label="&key;" value="%k" />
									<menuitem label="&name; (&sender;/&recipient;)" value="%n" />
									<menuitem label="&name; (&sender;)" value="%a" />
									<menuitem label="&name; (&recipient;)" value="%r" />
									<menuitem label=" " value="%e" />
								</menupopup>
							</menulist>
							<label value="-" />
							<menulist id="part3" style="width: 30%">
								<menupopup id="part3-popup-list">
									<menuitem label="&subject;" value="%s" />
									<menuitem label="&date;" value="%d" />
									<menuitem label="&dateCustomOpt;" value="%D" />
									<menuitem label="&key;" value="%k" selected="true" />
									<menuitem label="&name; (&sender;/&recipient;)" value="%n" />
									<menuitem label="&name; (&sender;)" value="%a" />
									<menuitem label="&name; (&recipient;)" value="%r" />
									<menuitem label=" " value="%e" />
								</menupopup>
							</menulist>
						</hbox>
						<html:div style="height: 8px"></html:div>
						<hbox align="center" style="display: none;">
							<checkbox id="addtimeCheckbox" label="&addtime.label;" checked="false" />
						</hbox>
						<hbox align="center" width="100%" >
							<hbox>
								<checkbox id="addPrefix" label="&addPrefix;" checked="false" />
								<html:input id="prefixText" />
							</hbox>
							<hbox flex="1" style="padding-right: 2px;" pack="end" >
								<checkbox id="addSuffix" label="&addSuffix;" checked="false"  style="padding-left: 12px;" />
								<html:input id="suffixText" size="22"/>
							</hbox>
						</hbox>
						<html:div style="height: 10px"></html:div>
						<hbox style="height: ;" >
							<label id="customDateLabel" style="padding-top: 3px; padding-left: 3px;" >&customDate;</label>
							<hbox align="center" class="input-container2" style="padding-left: -3px; height: ;">
								<html:input id="customDateFormat" class="adjusted-image-height2"  style=" background-color: ;" size="21"/>
							</hbox>
							<hbox class="adjusted-image-height" align="center"  style=" background-color: ;">
								<image src="chrome://mboximport/content/mboximport/icons/question-mark-20px.png" width="16px" height="16px"  style="margin-left: 5px; padding-top: 4px;  margin-bottom2: 2px; background-color: ;"
            					  maxwidth="16px"  onclick="openHelpBM('#customdate_format_help')" tooltiptext="&dateFormatRefTooltipText;" />
							</hbox>
						</hbox>
						<html:div style="height: 4px"></html:div>
						<html:div style="height: 1px;  background-color: #c0c0c0; margin: 6px;" ></html:div>
						<html:div style="height: 6px"></html:div>
						<hbox pack="start"  style="padding-left: 0px;" align="center">
							<checkbox id="useExtendedFormat" 
									onclick="setTimeout(extendedFormatCheck,200,this);" style="padding-left: 0px;"/>
							<label style="padding-left: -12px;">&useExtFilenameFormat;</label>
							<image src="chrome://mboximport/content/mboximport/icons/question-mark-20px.png" width="18px" height="18px"  style="margin-left: 2px; margin-top: 0px;"
            					maxwidth="18px" maxheightx="16px" onclick="openHelpBM('#ext_filename_format_help')" tooltiptext="&extFilenameFormatRefTooltipText;" />
						</hbox>
						<html:div style="height: 6px"></html:div>
						<hbox valign="center" >
							<hbox flex="0">
								<label id="extendedFormatLabel"  style="padding-top: 3px; padding-left: 0px;">&extFormat;</label>
							</hbox>
							<hbox flex="1">
								<html:input id="extendedFormat" style="width: 100%" />
							</hbox>
						</hbox>
					</vbox>
					<html:div style="height: 15px"></html:div>
					<label class="section-header">&attachmentFolderNames;</label>
					<vbox style="padding-left: 10px;">
						<hbox pack="start"  style="padding-left: 4px;" align="center">
							<hbox flex="0">
							<label style="padding-left: -4px;">&attachmentFolders;:</label>
							</hbox>

								<html:input id="attFolderFormat" style="width: 100%;"/>
							<hbox flex="0">

							<image src="chrome://mboximport/content/mboximport/icons/question-mark-20px.png" width="18px" height="18px"  style="margin-left: 2px; margin-top: 0px;"
            					maxwidth="18px" maxheightx="20px" onclick="openHelpBM('#ext_filename_format_help')" tooltiptext="&extFilenameFormatRefTooltipText;" />
						</hbox>
						</hbox>

						<html:div style="height: 8px"></html:div>
						<hbox pack="start"  style="padding-left: 4px;" align="center">
							<hbox flex="0">
							<label style="padding-left: -4px;">&inlineAttachmentsFolders;:</label>
							</hbox>

								<html:input id="inlineAttFolderFormat" style="width: 100%"/>
							<hbox flex="0" width="21px">
						<html:div style="width: 21px"></html:div>

						</hbox>
						</hbox>

						<html:div style="height: 8px"></html:div>
					</vbox>
					<label class="section-header">&misc;</label>
					<vbox style="padding-left: 10px;">
					<hbox align="center" >
							<checkbox id="MBasciiname" label="&MBlabel2;" />
						</hbox>
						<hbox align="center" flex="1">
							<checkbox id="cutSub" label="&cutSub;" />
							<html:div style="width: 15px; height: 10px;" ></html:div>
							<checkbox id="cutFN" label="&cutPathLen;" />
						</hbox>
						<html:div style="height: 3px"></html:div>

						<hbox flex="1">
							<label value="&filenameCharset;" style="padding-left: 4px;"/>
							<html:input id="filenameCharset" />
						</hbox>
					</vbox>
				</vbox>
			</tabpanel>
			<tabpanel style="margin-left: 10px; margin-top: 0px;" orient="vertical">
				<label class="section-header">&savedirs;</label>
				<html:div style="padding-left: 10px; background-color2: green">
					<html:div style="height: 8px"></html:div>
					<html:table>
						<html:tr>
							<html:td style="margin-bottom: 4px;">
								<checkbox id="use_export_mbox_dir" label="&mboxExport;"
										oncommand="setTimeout(toggleDirCheck,200,this);" />
								<html:input id="export_mbox_dir" value="" size="60" />
								<button id="export_mbox_dir_browse" label="&browse;" oncommand="pickFile(this, 'export_mbox_dir')" />
							</html:td>
						</html:tr>
						<html:tr>
							<html:td style="margin-bottom: 4px;">
								<checkbox id="use_export_eml_dir" label="&emlExport;"
										oncommand="setTimeout(toggleDirCheck,200,this);" />
								<html:input id="export_eml_dir" value="" size="60" />
								<button  id="export_eml_dir_browse" label="&browse;" oncommand="pickFile(this, 'export_eml_dir')" />
							</html:td>
						</html:tr>
						<html:tr>
							<html:td style="margin-bottom: 4px;">
								<checkbox id="use_export_msgs_dir" label="&selExport;"
										oncommand="setTimeout(toggleDirCheck,200,this);" />
								<html:input id="export_msgs_dir" value="" size="60" />
								<button id="export_msgs_dir_browse" label="&browse;" oncommand="pickFile(this, 'export_msgs_dir')" />
							</html:td>
						</html:tr>
					</html:table>
					<html:div style="height: 20px"></html:div>
				</html:div>
				<label class="section-header">&allMsg;</label>
				<html:div style="padding-left: 10px; background-color2: green">
					<label value="&indexSettingLabel;" />
					<hbox align="center">
						<radiogroup id="indexSetting" oncommand="toggleSkipMsg(this)">
							<radio label="&indexOn;" />
							<radio label="&indexOff;" />
						</radiogroup>
					</hbox>
					<hbox>
						<html:div style="width: 20px; height: 20px;" ></html:div>
						<checkbox id="skipMsg" label="&skipMsgLabel;" />
					</hbox>
				</html:div>
			</tabpanel>
			<tabpanel style="margin-left: 10px; margin-top: 0px;" orient="vertical">
				<label class="top-header">&backupSettings;</label>
				<html:div style="padding-left: 10px;">
					<html:div style="height: 8px"></html:div>
					<vbox>
						<hbox align="center">
							<checkbox id="backupEnable" label="&backupOn;" oncommand="toggleBackup(this)" />
							<label value="&backupFreq;: " />
							<menulist id="frequencyList">
								<menupopup>
									<menuitem label="&day1;" value="1" />
									<menuitem label="&day3;" value="3" />
									<menuitem label="&day7;" value="7" />
									<menuitem label="&day15;" value="15" />
									<menuitem label="&day30;" value="30" />
									<menuitem label="&backupOnExit;" value="99" />
								</menupopup>
							</menulist>
						</hbox>
						<html:div style="width: 10px; height: 10px;" ></html:div>
						<hbox align="center" style="margin-bottom: 4px;">
							<label value="&backupDestination;: " />
							<html:input id="backupDir" value="" size="50" />
							<button label="&browse;" oncommand="pickFile(this, 'backupDir')" />
						</hbox>
						<spacer height="10" />
						<html:div style="width: 10px; height: 10px;" ></html:div>
						<label value="&backupFolderName;: " />
						<hbox align="center" style="margin-bottom: 4px;">
							<radiogroup orient="vertical" id="backupDirName">
								<radio label="&autoName;" />
								<hbox>
									<radio label="&customName;:" />
									<html:input id="backupCustomName" value="" size="35" />
								</hbox>
							</radiogroup>
						</hbox>
						<html:div style="width: 10px; height: 10px;" ></html:div>
						<hbox align="center">
							<label value="&save;: " />
							<radiogroup orient="horizontal" id="saveMode">
								<radio label="&allFilesMode;" />
								<radio label="&newFilesMode;" />
							</radiogroup>
						</hbox>
						<hbox align="center">
							<label value="&backupType;: " />
							<radiogroup orient="horizontal" id="backupType">
								<radio label="&allFiles;" />
								<radio label="&justMailFiles;" />
							</radiogroup>
						</hbox>
						<html:div style="width: 10px; height: 10px;" ></html:div>
						<hbox align="center">
							<checkbox id="modalWin" label="&modal;" />
						</hbox>
						<hbox align="center">
							<label value="&lastBackup;: " />
							<html:input id="backupLast" readonly="true" value="" size="35" />
						</hbox>
					</vbox>
				</html:div>
			</tabpanel>
		</tabpanels>
	</tabbox>
	<script type="application/javascript" src="chrome://mboximport/content/mboximport/utils.js" />
	<script type="application/javascript" src="chrome://mboximport/content/mboximport/wextAPIcmds.js" />
	<script type="application/javascript" src="chrome://mboximport/content/mboximport/mboximportOptions.js" />
</dialog>